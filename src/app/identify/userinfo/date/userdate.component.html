<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
<link href="//libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
<script src="//libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script src="//libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
<!-- <div *ngIf="datings" class="row">
  <div *ngFor="let dating of datings">
    <div class="col-md-3" style="margin-bottom: 5px">
      <img *ngIf="dating.imageUrls[0]" [src]="dating.imageUrls[0]" width="200px" height="125px" (click)="onClickDating(dating.id)">
    </div>
  </div>
</div> -->
<div class="waterfall">
  <div *ngFor="let dating of datings">
    <div class="item">
      <img [src]="dating.imageUrls[0]" (click)="onClickDating(dating.id)">
    </div>
  </div>
</div>
<div id="maskLayer" [ngStyle]="currentStyles">
  <div class="row">
    <P style="height: 10px"></P>
  </div>
  <div class="row">
    <div class="col-md-9">
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-2">
          </div>
          <div class="col-md-7">
          </div>
          <div class="col-md-2">
            <label>点击图片即可下载</label>
          </div>
          <div class="col-md-1">
            <img src="assets/image/close.png" (click)="closeBigPicture()" width="75%" height="75%">
          </div>
        </div>
        <div class="row">
          <P style="height: 10px"></P>
        </div>
        <div class="row">
          <carousel>
            <slide *ngFor="let image of selectedDating.imageUrls">
              <a href="{{image}}" download="">
                <img src="{{image}}" width="100%">
              </a>
            </slide>
          </carousel>
        </div>
      </div>
    </div>
    <div class="col-md-3" id="dateInfo">
      <div class="col-md-1"></div>
      <div class="col-md-11">
        <div class="row">
          <P style="height: 20px"></P>
        </div>
        <div class="row">
          <div class="col-md-3" *ngIf="user">
            <img [src]="user.head" width="100%" height="100%">
          </div>
          <div class="col-md-9">
            <label style="color: #dddddd" *ngIf="user">{{user.name}}</label>
          </div>
        </div>
        <div class="row">
          <p style="height: 3px"></p>
        </div>
        <div class="row">
          <div class="col-md-9">
            <label>{{selectedDating.postTime}}</label>
          </div>
          <div class="col-md-3">
            <label>{{selectedDating.postAddress}}</label>
          </div>
        </div>
        <div class="row">
          <p style="height: 3px"></p>
        </div>
        <div class="row">
          <p>拍摄时间：{{selectedDating.photoTime}}</p>
        </div>
        <div class="row">
          <p style="height: 3px"></p>
        </div>
        <div class="row">
          <p>拍摄地点：{{selectedDating.photoAddress}}</p>
        </div>
        <div class="row">
          <p style="height: 3px"></p>
        </div>
        <div class="row">
          <p>费用：{{selectedDating.cost}}</p>
        </div>
        <div class="row">
          <p style="height: 3px"></p>
        </div>
        <div class="row">
          <p>要求：{{selectedDating.desc}}</p>
        </div>
        <div class="row">
          <p style="height: 3px"></p>
        </div>
        <div class="row ">
          <label *ngFor="let tag of selectedDating.tags " (click)="gotoTagDetail(tag) ">#{{tag}}</label>
        </div>
        <div class="row">
          <P style="height: 20px"></P>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label (click)="deleteDating(template)">删除约拍</label>
          </div>
          <div class="col-md-3"></div>
          <div class="col-md-3">
            <a *ngIf="selectedDating.imageUrls"
               href="http://service.weibo.com/share/share.php?appkey=xxxx&url=https://weibo.com/&title={{selectedDating.desc}}&pic={{selectedDating.imageUrls[0]}}"
               target="_blank">
              <img src="assets/image/weibo.png" width="100%" height="100%">
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">确定删除？</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-md-1"></div>
      <div class="col-md-10"><h5>你确定要删除该约拍吗？</h5></div>
    </div>
    <div class="row">
      <div class="col-md-8"></div>
      <div class="col-md-2">
        <button type="button" class="btn btn-primary" (click)="confirmDelete()">确定</button>
      </div>
      <div class="col-md-2">
        <button type="button" class="btn btn-primary" (click)="modalRef.hide()">取消</button>
      </div>
    </div>
  </div>
</ng-template>
